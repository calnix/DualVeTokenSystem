# 2. Credential Pools and Voting [veMOCA]

## Background

The network facilitates credential verification through a marketplace connecting issuers (data providers) and verifiers (applications). Issuers provide credentials based on schemas (e.g., credit scores), while verifiers use these credentials to verify user data for specific outcomes (e.g., age verification for lending). Verifiers compensate issuers for this service.

- Credential Schema: Standardized template for verifying credentials (e.g., credit scores, age verification, income proof)
- Issuers: data providers of one or more schemes. E.g. Credit Bureau for credit scores
- Verifiers: applications looking to verify specific data points, credentials of a user to determine entry or some outcome

**Whitelisting actors**

- Issuers will be onboarded and whitelisted by us
- There can be multiple whitelisted issuers for the same schema
- Verifiers must specify (in advance) which issuer's credentials they will accept for verification of a specific schema

Verification fees are split across the different network stakeholders.

## Verification Fee distribution

Verification fees primarily goes to the Issuers [since they supply data].

**Fee distribution amongst different stakeholders**

- Voters   -> 20%
- Treasury -> 10%
- Issuers  -> 70%
- Referrers -> ?

Issuers can divert a portion of fees to referrers. This is optional commission.
I.e. issuers can divert 10% to referrers and take-home 60%.

veMOCA voters earn a small portion of verification fees from schemas they voted on. This is to facilitate voting activity.
Voting will be explaining in the next section.

*Unclear*

```smlj
how do issuers allocate to referrers?

1. on a per address basis?
2. define a global portion which gets equally split across all referrers?
```

## Subsidizing Verifiers

To bootstrap network adoption, verifiers **might** receive a percentage of their verification fees back as esMOCA tokens.

**Why might**

Distribution of subsidies is dictated by voting and FCFS claiming.

TLDR:

- credential pools, each representing a unique type of schema, will be created on-chain
- veMoca holders can vote on pools (and therefore schema)
- for each voting period, esMoca subsidies will be distributed across pools proportionate to voting
- For a particular pool, verifiers are able to claim subsidies on a FCFS basis.

This means that for a verifier to be able to claim subsidies, his pool must have been voted on and received sufficient subsidies.
Additionally, said verifier must be early enough to claim said subsidies before other verifiers have claimed and exhausted the available supply.

In the worse case scenario, the verifier's pool may not have won any votes and none of the verifiers using that schema are able to subsidize their usage.

> Verifiers should not receive more subsidy than what they pay in verification fees i.e. they cannot make a profit

## Voting with veMOCA

- 28-day voting epochs
- Users can split their votes across multiple credential pools
- Voters are rewarded. Those that do not vote, do not get rewards.
- End-of-epoch snapshot determines veMOCA voting power distribution [done at the end of 28th day]

1 vote = 1 veMOCA.
At the end of epoch, each pool's vote counter needs to be reset.

### Vote Delegation

- Users can delegate veMOCA to others, who can vote on their behalf
- Open system allowing anyone to become a Delegate Leader
- Leaders earn commission (e.g. 10%) on verification fees from voted pools
- Flexible delegation allowing allocation to any available Leader

*Unclear*

```smlj
- Is the cut for vote delegation fixed?
- Can i delegate to multiple fellas at once?
```

## Distributing subsidies based on voting

For each pool, emissions received are calculated as:

Emissions = (numOfVotesReceived / totalVotes) * totalEmissionsForPeriod

- Total Emissions distributed can be different for each period; not fixed.
- Subsidies are distributed as esMoca

## Claiming Subsidies

- somehow there exists a contract which is updated each time a Verifier makes a verification
- this contract tracks the total amount of verification fees paid per credential schema, for each voting epoch.
- based on this total amount, each verifier can claim a % amount in subsidies.
- claiming wil be on a FCFS basis till all allocated subsidies for that pool has been depleted

### What if there is surplus subsidies?

- Returned to treasury at the end of epoch

## Validators can participate in voting

- Validators can stake esMoca to receive veMOCA [esMOCA treated as Moca]
- Validators can then vote with veMOCA

